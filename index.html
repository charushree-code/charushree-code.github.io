<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Loading‚Ä¶</title>
  <meta name="description" content="" />
  <meta property="og:title" content="" />
  <meta property="og:description" content="" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="" />
  <meta name="color-scheme" content="light dark" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0b0c10;
      --card: #111317;
      --text: #e9eef4;
      --muted:#a8b3c7;
      --accent:#8b5cf6;
      --accent-2:#22d3ee;
      --ring: rgba(139,92,246,.4);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 16px;
      --max: 1080px;
    }
    :root.light{
      --bg:#f7f8fb;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#42506b;
      --accent:#6d28d9;
      --accent-2:#0891b2;
      --ring: rgba(109,40,217,.25);
      --shadow: 0 12px 30px rgba(2,6,23,.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:radial-gradient(1200px 800px at 80% -10%, rgba(34,211,238,.08), transparent 60%),
                 radial-gradient(900px 600px at -20% 10%, rgba(139,92,246,.10), transparent 55%),
                 var(--bg);
      color:var(--text);
      line-height:1.6;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:var(--max); margin-inline:auto; padding:24px}
    header{
      display:flex; align-items:center; justify-content:space-between; gap:16px;
      position:sticky; top:0; backdrop-filter:saturate(120%) blur(6px);
      background:linear-gradient(to bottom, rgba(0,0,0,.45), transparent);
      padding:16px 24px; z-index:10;
    }
    .brand{display:flex; align-items:center; gap:12px}
    .brand img{width:36px; height:36px; border-radius:10px; object-fit:cover; box-shadow:var(--shadow)}
    .brand h1{font-size:18px; margin:0; font-weight:800; letter-spacing:.2px}
    .controls{display:flex; gap:10px; align-items:center}
    .btn{
      display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:12px;
      background:var(--card); color:var(--text); border:1px solid rgba(255,255,255,.08);
      box-shadow:var(--shadow); cursor:pointer; transition:transform .15s ease, box-shadow .15s ease, border-color .15s;
    }
    .btn:hover{transform:translateY(-1px)}
    .btn:focus-visible{outline:2px solid var(--ring); outline-offset:2px}
    .grid{
      display:grid; gap:24px; grid-template-columns: 1fr; margin-top:28px;
    }
    @media (min-width: 900px){
      .grid{grid-template-columns: 340px 1fr;}
    }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:24px;
    }
    .section-title{
      font-size:14px; letter-spacing:.18em; text-transform:uppercase; color:var(--muted); margin:0 0 14px 0;
    }
    .hero{
      display:flex; gap:22px; align-items:center; flex-wrap:wrap; padding:28px; border-radius:var(--radius);
      background:
        radial-gradient(600px 240px at 10% -40%, rgba(34,211,238,.25), transparent 60%),
        radial-gradient(600px 300px at 100% 10%, rgba(139,92,246,.25), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
      box-shadow:var(--shadow);
    }
    .hero img{width:88px; height:88px; border-radius:22px; object-fit:cover; border:2px solid rgba(255,255,255,.15)}
    .hero .txt h2{font-size:28px; line-height:1.2; margin:0 0 6px 0}
    .hero .txt p{margin:2px 0; color:var(--muted)}
    .tag{display:inline-block; font-size:12px; padding:6px 10px; border-radius:999px; background:rgba(34,211,238,.12); border:1px solid rgba(34,211,238,.25); margin-right:8px}
    .stack{display:flex; flex-wrap:wrap; gap:8px}
    .proj{
      display:grid; gap:16px;
    }
    .proj-item{
      display:grid; gap:14px; padding:18px; border-radius:14px; border:1px solid rgba(255,255,255,.09);
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      transition:transform .15s ease, border-color .15s ease;
    }
    .proj-item:hover{transform:translateY(-2px); border-color:rgba(139,92,246,.4)}
    .proj-item img{width:100%; height:180px; object-fit:cover; border-radius:12px; border:1px solid rgba(255,255,255,.08)}
    .proj-head{display:flex; align-items:center; justify-content:space-between; gap:10px}
    .chip{font-size:12px; padding:6px 9px; border-radius:999px; border:1px solid rgba(255,255,255,.12)}
    .list{display:grid; gap:14px; padding:0; margin:0; list-style:none}
    .list li{display:grid; gap:6px}
    .muted{color:var(--muted)}
    footer{padding:40px 24px; text-align:center; color:var(--muted)}
    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0}
  </style>
</head>
<body>
  <a class="sr-only" href="#main">Skip to content</a>

  <header class="wrap" id="top">
    <div class="brand">
      <img id="brand-favicon" alt="Site icon" src="">
      <h1 id="brand-title">Loading‚Ä¶</h1>
    </div>
    <div class="controls">
      <button class="btn" id="themeBtn" aria-label="Toggle theme">üåì Theme</button>
      <a class="btn" id="resumeBtn" href="#" target="_blank" rel="noopener">üìÑ Resume</a>
    </div>
  </header>

  <main id="main" class="wrap">
    <section class="hero" id="hero">
      <img id="hero-avatar" alt="Profile avatar" src="">
      <div class="txt">
        <span class="tag" id="hero-tagline"></span>
        <h2 id="hero-headline">Loading‚Ä¶</h2>
        <p id="hero-subheadline" class="muted"></p>
        <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
          <a class="btn" id="hero-cta-primary" href="#"></a>
          <a class="btn" id="hero-cta-secondary" href="#"></a>
        </div>
      </div>
    </section>

    <section class="grid" aria-live="polite">
      <aside class="card">
        <h3 class="section-title" id="about-title">About</h3>
        <p id="about-content" class="muted"></p>
        <hr style="border:0;border-top:1px solid rgba(255,255,255,.08); margin:18px 0">
        <h3 class="section-title" id="skills-title">Skills</h3>
        <div id="skills"></div>
        <hr style="border:0;border-top:1px solid rgba(255,255,255,.08); margin:18px 0">
        <h3 class="section-title" id="contact-title">Contact</h3>
        <ul class="list" id="contact-list"></ul>
      </aside>

      <div class="card">
        <h3 class="section-title" id="exp-title">Experience</h3>
        <ul class="list" id="exp-list"></ul>
        <hr style="border:0;border-top:1px solid rgba(255,255,255,.08); margin:18px 0">
        <h3 class="section-title" id="projects-title">Selected Projects</h3>
        <div class="proj" id="projects"></div>
      </div>
    </section>
  </main>

  <footer id="footer"></footer>

  <script>
    // --- Theme handling (auto / light / dark) ---
    const root = document.documentElement;
    const savedTheme = localStorage.getItem('theme');
    function applyTheme(mode){
      if(mode === 'light'){ root.classList.add('light'); }
      else if(mode === 'dark'){ root.classList.remove('light'); }
      else{
        // auto
        const prefersLight = window.matchMedia('(prefers-color-scheme: light)').matches;
        prefersLight ? root.classList.add('light') : root.classList.remove('light');
      }
    }
    applyTheme(savedTheme || 'auto');
    document.getElementById('themeBtn').addEventListener('click', () => {
      const current = localStorage.getItem('theme') || 'auto';
      const next = current === 'auto' ? 'light' : current === 'light' ? 'dark' : 'auto';
      localStorage.setItem('theme', next);
      applyTheme(next);
      document.getElementById('themeBtn').textContent = `üåì ${next[0].toUpperCase()+next.slice(1)}`;
    });

    // --- Utility creators ---
    const el = (tag, attrs = {}, ...children) => {
      const node = document.createElement(tag);
      Object.entries(attrs).forEach(([k,v])=>{
        if(k === 'class') node.className = v;
        else if(k === 'html') node.innerHTML = v;
        else if(k.startsWith('on') && typeof v === 'function') node.addEventListener(k.slice(2), v);
        else node.setAttribute(k, v);
      });
      children.forEach(c => {
        if(c == null) return;
        if(Array.isArray(c)) c.forEach(n => n && node.appendChild(typeof n === 'string' ? document.createTextNode(n) : n));
        else node.appendChild(typeof c === 'string' ? document.createTextNode(c) : c);
      });
      return node;
    };

    // --- Renderers ---
    function renderSite(site){
      document.title = site.title || 'Portfolio';
      document.querySelector('meta[name="description"]').setAttribute('content', site.description || '');
      document.querySelector('meta[property="og:title"]').setAttribute('content', site.title || '');
      document.querySelector('meta[property="og:description"]').setAttribute('content', site.description || '');
      const icon = document.getElementById('brand-favicon');
      if(site.favicon) icon.src = site.favicon;
      document.getElementById('brand-title').textContent = site.title || 'Portfolio';
      if(site.theme){ localStorage.setItem('theme', site.theme); applyTheme(site.theme); }
    }

    function renderHero(hero){
      if(hero.avatar) document.getElementById('hero-avatar').src = hero.avatar;
      document.getElementById('hero-tagline').textContent = hero.tagline || '';
      document.getElementById('hero-headline').textContent = hero.headline || '';
      document.getElementById('hero-subheadline').textContent = hero.subheadline || '';
      const cta1 = document.getElementById('hero-cta-primary');
      const cta2 = document.getElementById('hero-cta-secondary');
      if(hero.ctaPrimary){ cta1.textContent = hero.ctaPrimary.label; cta1.href = hero.ctaPrimary.href; }
      if(hero.ctaSecondary){ cta2.textContent = hero.ctaSecondary.label; cta2.href = hero.ctaSecondary.href; }
      document.getElementById('resumeBtn').href = (hero.ctaSecondary && hero.ctaSecondary.href) || '#';
    }

    function renderAbout(about){
      document.getElementById('about-title').textContent = about.title || 'About';
      document.getElementById('about-content').textContent = about.content || '';
    }

    function renderSkills(skills){
      document.getElementById('skills-title').textContent = skills.title || 'Skills';
      const wrap = document.getElementById('skills');
      wrap.innerHTML = '';
      (skills.groups || []).forEach(g=>{
        const group = el('div', {class:'stack', style:'margin-bottom:10px'});
        group.appendChild(el('strong', {}, g.label + ':'));
        (g.items||[]).forEach(it=>{
          group.appendChild(el('span', {class:'chip'}, it));
        });
        wrap.appendChild(group);
      });
    }

    function renderContact(contact){
      document.getElementById('contact-title').textContent = contact.title || 'Contact';
      const list = document.getElementById('contact-list');
      list.innerHTML = '';
      if(contact.email) list.appendChild(el('li', {}, el('a', {href:`mailto:${contact.email}`}, contact.email)));
      if(contact.location) list.appendChild(el('li', {class:'muted'}, contact.location));
      (contact.links||[]).forEach(l=>{
        list.appendChild(el('li', {}, el('a', {href:l.href, target:'_blank', rel:'noopener'}, l.label)));
      });
    }

    function renderExperience(exp){
      document.getElementById('exp-title').textContent = exp.title || 'Experience';
      const list = document.getElementById('exp-list');
      list.innerHTML = '';
      (exp.items||[]).forEach(item=>{
        const li = el('li', {},
          el('div', {}, el('strong', {}, `${item.role} ‚Ä¢ ${item.company}`)),
          el('div', {class:'muted'}, item.period || ''),
          el('ul', {class:'list'}, (item.highlights||[]).map(h => el('li', {class:'muted'}, '‚Ä¢ ' + h)))
        );
        list.appendChild(li);
      });
    }

    function renderProjects(projects){
      document.getElementById('projects-title').textContent = projects.title || 'Projects';
      const grid = document.getElementById('projects');
      grid.innerHTML = '';
      (projects.items||[]).forEach(p=>{
        const links = (p.links||[]).map(l => el('a', {class:'btn', href:l.href, target:'__blank', rel:'noopener'}, l.label));
        const tags = el('div', {class:'stack'}, ...(p.tags||[]).map(t => el('span', {class:'chip'}, t)));
        const item = el('div', {class:'proj-item'},
          p.image ? el('img', {src:p.image, alt:`${p.name} cover`}) : null,
          el('div', {class:'proj-head'},
            el('h4', {style:'margin:0'}, p.name),
            el('div', {}, tags)
          ),
          el('p', {class:'muted', style:'margin:0'}, p.description || ''),
          el('div', {style:'display:flex; gap:10px; flex-wrap:wrap'}, links)
        );
        grid.appendChild(item);
      });
    }

    function renderFooter(footer){
      const f = document.getElementById('footer');
      f.innerHTML = `<p class="muted">${footer.copyright || ''} ¬∑ Built with ‚ù§Ô∏è</p>`;
    }

    // --- Fetch + Render flow with fallback content ---
    async function bootstrap(){
      let data;
      try{
        const res = await fetch('content.json', {cache:'no-store'});
        if(!res.ok) throw new Error('content.json not found');
        data = await res.json();
      }catch(e){
        // Minimal fallback so the page still works if content.json is missing
        data = {
          site:{title:'My Portfolio', description:'Edit content.json to customize.'},
          hero:{name:'Your Name', tagline:'Role', headline:'Hello!', subheadline:'Add your details in content.json'},
          about:{title:'About', content:'Edit content in content.json'},
          experience:{title:'Experience', items:[]},
          projects:{title:'Projects', items:[]},
          skills:{title:'Skills', groups:[]},
          contact:{title:'Contact', email:'you@example.com', links:[]},
          footer:{copyright:`¬© ${new Date().getFullYear()} You`}
        };
      }

      renderSite(data.site||{});
      renderHero(data.hero||{});
      renderAbout(data.about||{});
      renderSkills(data.skills||{});
      renderContact(data.contact||{});
      renderExperience(data.experience||{});
      renderProjects(data.projects||{});
      renderFooter(data.footer||{});
    }

    bootstrap();
  </script>
</body>
</html>
